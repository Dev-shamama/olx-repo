<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./assets/css/style.css">
    <!-- Boxicons CSS -->
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
</head>

<body>
    <div class="container">
        <form action="" class="form">
            <h2>Registration</h2>

            <div class="input-form">
                <div class="icon">
                    <i class='bx bxs-user'></i>
                </div>
                <input type="text" placeholder="Enter Your Name">
            </div>

            <div class="input-form">
                <div class="icon">
                    <i class='bx bxs-id-card'></i>
                </div>
                <input type="text" placeholder="Enter Your CNIC" id="cnicFormattedInput" maxlength="14"
                    oninput="formatNumber()">
            </div>

            <div class="input-form">
                <div class="icon img">
                    <img src="./assets/img/daraz.svg" alt="daraz logo">
                </div>
                <input type="text" placeholder="Enter Your Daraz">
            </div>

            <div class="input-form">
                <div class="icon">
                    <i class='bx bxl-whatsapp-square'></i>
                </div>
                <input type="text" placeholder="Enter Your WhatsApp #">
            </div>

            <div class="input-form">

                <select name="" id="">
                    <option disabled selected value="">Choose Bike</option>
                    <option value="Suzuki">Suzuki</option>
                    <option value="Honda">Honda</option>
                    <option value="Yamaha">Yamaha</option>
                </select>
            </div>

            <div class="input-form">
                <div class="icon">
                    <i class='bx bxs-user-pin'></i>
                </div>
                <input type="date" placeholder="Date of Birth">
            </div>

            <div class="input-form">
                <div class="icon">
                    <i class='bx bxs-city'></i>
                </div>
                <input type="text" placeholder="City">
            </div>

            <div class="input-form">
                <div class="icon">
                    <i class='bx bx-current-location'></i>
                </div>
                <input type="text" placeholder="Address">
            </div>

            <div class="input-form">
                <select name="" id="">
                    <option disabled selected value="">Income Type</option>
                    <option value="Government">Government</option>
                    <option value="Private">Private</option>
                </select>
            </div>

            <div class="input-form">
                <div class="icon">
                    <i class='bx bxs-lock-alt'></i>
                </div>
                <input type="text" id="passwordField" placeholder="Password">
            </div>

            <div class="progress" id="password-strength">
                <div id="bar-1" class="progress-bar bar-1"></div>
                <div id="bar-2" class="progress-bar bar-2"></div>
                <div id="bar-3" class="progress-bar bar-3"></div>
            </div>

            <div class="passwordError">
                <ul>
                    <li>
                        <span class="icon">
                            <i id="lowerUpperCase" class='bx bx-x-circle'></i>
                        </span>
                        <small>Lowercase and Uppercase</small>
                    </li>
                    <li>
                        <span class="icon">
                            <i id="passwordNumber" class='bx bx-x-circle'></i>
                        </span>
                        <small>Number (0-9)</small>
                    </li>
                    <li>
                        <span class="icon">
                            <i id="specialChar" class='bx bx-x-circle'></i>
                        </span>
                        <small>Special Character (!@#$%^&*)</small>
                    </li>

                    <li>
                        <span class="icon">
                            <i id="eightChar" class='bx bx-x-circle'></i>
                        </span>
                        <small>At least 8 Character</small>
                    </li>
                </ul>
            </div>

            <div class="btn-container">
                <button class="btn btn-proceed">Proceed</button>
                <button class="btn btn-support">Support</button>
            </div>



        </form>
    </div>
</body>
<script src="./assets/js/main.js"></script>

<script>
    const passwordField = document.getElementById('passwordField');
    const passwordStrength = document.getElementById('password-strength');
    const lowUpperCase = document.getElementById('lowerUpperCase');
    const number = document.getElementById('passwordNumber');
    const bar_1 = document.getElementById('bar-1');
    const bar_2 = document.getElementById('bar-2');
    const bar_3 = document.getElementById('bar-3');


    passwordField.addEventListener('keyup', (e) => {
        const password = e.target.value;
        checkStrength(password)
    })

    function checkStrength(password) {
        let strength = 0

        //If password contains both lower and uppercase characters
        if (password.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)) {
            strength += 1;
            lowUpperCase.classList.remove('bx-x-circle');
            lowUpperCase.classList.add('bxs-check-circle');
        } else {
            lowUpperCase.classList.add('bx-x-circle');
            lowUpperCase.classList.remove('bxs-check-circle');
        }
        //If it has numbers and characters
        if (password.match(/([0-9])/)) {
            strength += 1;
            number.classList.remove('bx-x-circle');
            number.classList.add('bxs-check-circle');
        } else {
            number.classList.add('bx-x-circle');
            number.classList.remove('bxs-check-circle');
        }
        //If it has one special character
        if (password.match(/([!,%,&,@,#,$,^,*,?,_,~])/)) {
            strength += 1;
            specialChar.classList.remove('bx-x-circle');
            specialChar.classList.add('bxs-check-circle');
        } else {
            specialChar.classList.add('bx-x-circle');
            specialChar.classList.remove('bxs-check-circle');
        }
        //If password is greater than 7
        if (password.length > 7) {
            strength += 1;
            eightChar.classList.remove('bx-x-circle');
            eightChar.classList.add('bxs-check-circle');
        } else {
            eightChar.classList.add('bx-x-circle');
            eightChar.classList.remove('bxs-check-circle');
        }

        // If value is less than 2
        if (strength < 2) {
            bar_1.classList.add('active');
            bar_2.classList.remove('active');
            bar_3.classList.remove('active');
            bar_1.style = 'width: 100%';
        } else if (strength == 3) {
            bar_1.classList.add('active');
            bar_2.classList.add('active');
            bar_3.classList.remove('active');
            bar_2.style = 'width: 100%';
        } else if (strength == 4) {
            bar_1.classList.add('active');
            bar_2.classList.add('active');  
            bar_3.classList.add('active');
            bar_3.style = 'width: 100%';
        }
    }

</script>

<script>
    function formatNumber() {
        const input = document.getElementById("cnicFormattedInput");
        let value = input.value.replace(/\D/g, ""); // Remove non-numeric characters

        if (value.length > 5) {
            value = `${value.slice(0, 5)}-${value.slice(5, 12)}`; // Add first dash
        }
        if (value.length > 12) {
            value = `${value}-${value.slice(12, 13)}`; // Add second dash
        }

        input.value = value;
    }
</script>

</html>